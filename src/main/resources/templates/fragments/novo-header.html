<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>

    <header class="header" th:fragment="header">

        <a th:href="@{/perfil}" class="logo" id="header-avatar" sec:authorize="isAuthenticated()">
            <img th:src="@{${#authentication.principal.fotoPerfil} ?: '/img/user.png'}" 
                 alt="Avatar do usuário" 
                 class="header-avatar-img" />
        </a>

        <a th:href="@{/login}" class="logo" id="header-avatar-guest" sec:authorize="!isAuthenticated()">
            <i class="bx bx-user-circle" style="font-size: 50px; color: #2f3559"></i>
        </a>

        <i class="bx bx-menu" id="menu-icon"></i>

        <nav class="navbar">
            <a th:href="@{/home}" title="Início"><i class="bx bx-home"></i></a>
            <a th:href="@{/favoritos}" title="Favoritos"><i class="bx bx-heart"></i></a>
        </nav>
        
        <div class="search-container">
            <input
                type="text"
                id="home-search-input"
                placeholder="Buscar por título ou autor..."
                class="search-input"
                autocomplete="off"
            />
            <button class="search-btn" aria-label="Buscar">
                <i class="bx bx-search"></i>
            </button>
            <div id="search-results-container" class="search-results-list"></div>
        </div>
    </header>

</body>
</html>